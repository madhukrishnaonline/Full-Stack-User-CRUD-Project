<div *ngIf="fetchingDetails" class="d-flex justify-content-center m-2">
    <span class="spinner-border text-primary"></span>
</div>
<div class="row mt-3">
    <div class="col-3" id="profile">
        <div class="profileContainer"><img [src]="userProfile.profile" alt="profile"></div>
        <div id="user-name">{{userProfile.userName}} <span class="bi-pencil-square" (click)="ChangeUserName()"></span>
        </div>
    </div>
    <div class="col-9" id="data">
        <div class="row">
            <div class="col">
                <div>
                    <label class="form-label">Full Name</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.fullName"
                        class="form-control shadow rounded-3 p-2">
                </div>
                <div>
                    <label class="form-label">Mobile</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.mobile"
                        class="form-control shadow rounded-3 p-2">
                </div>
                <div>
                    <label class="form-label">City</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.city"
                        class="form-control shadow rounded-3 p-2">
                </div>
                <!-- <div>
                    <input type="hidden" disabled [(ngModel)]="userProfile.password" class="form-control">
                </div> -->
            </div>
            <div class="col">
                <div>
                    <label class="form-label">Email</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.email"
                        class="form-control shadow rounded-3 p-2">
                </div>
                <div>
                    <label class="form-label">Address</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.address"
                        class="form-control shadow rounded-3 p-2">
                </div>
                <div>
                    <label class="form-label">State</label>
                    <input type="text" [disabled]="!isEditable" [(ngModel)]="userProfile.state"
                        class="form-control shadow rounded-3 p-2">
                </div>
            </div>
        </div>
        <div class="d-flex">
            <button type="button" class="btn btn-primary me-4" (click)="toggleEdit()">
                {{ isEditable ? 'Update Details' : 'Edit Details' }}
            </button>
            <button type="button" class="btn btn-danger" (click)="Logout()">Logout</button>
            <div *ngIf="response">{{response}}</div>
            <div *ngIf="isUpdating"><span class="spinner-border text-warning"></span></div>
        </div>
    </div>
</div>